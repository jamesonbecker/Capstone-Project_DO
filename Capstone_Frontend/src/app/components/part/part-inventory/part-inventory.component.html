<div class="form-container">
  <mat-card class="form-details">
    <mat-card-title>Transaction History</mat-card-title>
    <mat-card-content>
      <div class="inventory-header">
        <h3>Current Available Quantity: {{ currentPart.unitsInStock }}</h3>
      </div>
      @if (currentPartInventory.length >= 1) {
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-elevation-z8 list-table"
      >
        <ng-container matColumnDef="orderNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Order Number
          </th>
          <td mat-cell *matCellDef="let inventory" class="table-cell-number">
            {{ inventory.orderNumber }}
          </td>
        </ng-container>

        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Adjustment Type
          </th>
          <td mat-cell *matCellDef="let inventory" class="table-cell-number">
            {{ inventory.adjustmentType }}
          </td>
        </ng-container>

        <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Adjustment Quantity
          </th>
          <td mat-cell *matCellDef="let inventory" class="table-cell-number">
            {{ inventory.quantity }}
          </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Adjustment Date
          </th>
          <td mat-cell *matCellDef="let inventory">
            {{ inventory.date | date : "MM/dd/yyyy  h:mm a" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="availableQuantity">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Units in Stock
          </th>
          <td mat-cell *matCellDef="let inventory" class="table-cell-number">
            {{ inventory.availableQuantity }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          (click)="navigate(row.orderNumber, row.adjustmentType)"
        ></tr>
      </table>
      <h3>Current Available Quantity: {{ currentPart.unitsInStock }}</h3>
      <mat-paginator
        [pageSizeOptions]="[10, 15, 25, 50]"
        showFirstLastButtons
      ></mat-paginator>
      } @else {
      <h3>No inventory transaction history for {{ currentPart.sku }}.</h3>
      }
    </mat-card-content>
  </mat-card>
  <router-outlet></router-outlet>
</div>
